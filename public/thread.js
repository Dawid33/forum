(()=>{var L={"":["<em>","</em>"],_:["<strong>","</strong>"],"*":["<strong>","</strong>"],"~":["<s>","</s>"],"\n":["<br />"]," ":["<br />"],"-":["<hr />"]};function w(n){return n.replace(RegExp("^"+(n.match(/^(\t| )+/)||"")[0],"gm"),"")}function u(n){return(n+"").replace(/"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function g(n,v){var r,p,e,m,t,f=/((?:^|\n+)(?:\n---+|\* \*(?: \*)+)\n)|(?:^``` *(\w*)\n([\s\S]*?)\n```$)|((?:(?:^|\n+)(?:\t|  {2,}).+)+\n*)|((?:(?:^|\n)([>*+-]|\d+\.)\s+.*)+)|(?:!\[([^\]]*?)\]\(([^)]+?)\))|(\[)|(\](?:\(([^)]+?)\))?)|(?:(?:^|\n+)([^\s].*)\n(-{3,}|={3,})(?:\n+|$))|(?:(?:^|\n+)(#{1,6})\s*(.+)(?:\n+|$))|(?:`([^`].*?)`)|(  \n\n*|\n{2,}|__|\*\*|[_*]|~~)/gm,a=[],s="",d=v||{},h=0;function $(o){var c=L[o[1]||""],i=a[a.length-1]==o;return c?c[1]?(i?a.pop():a.push(o),c[0|i]):c[0]:o}function x(){for(var o="";a.length;)o+=$(a[a.length-1]);return o}for(n=n.replace(/^\[(.+?)\]:\s*(.+)$/gm,function(o,c,i){return d[c.toLowerCase()]=i,""}).replace(/^\n+|\n+$/g,"");e=f.exec(n);)p=n.substring(h,e.index),h=f.lastIndex,r=e[0],p.match(/[^\\](\\\\)*\\$/)||((t=e[3]||e[4])?r='<pre class="code '+(e[4]?"poetry":e[2].toLowerCase())+'"><code'+(e[2]?' class="language-'+e[2].toLowerCase()+'"':"")+">"+w(u(t).replace(/^\n+|\n+$/g,""))+"</code></pre>":(t=e[6])?(t.match(/\./)&&(e[5]=e[5].replace(/^\d+/gm,"")),m=g(w(e[5].replace(/^\s*[>*+.-]/gm,""))),t==">"?t="blockquote":(t=t.match(/\./)?"ol":"ul",m=m.replace(/^(.*)(\n|$)/gm,"<li>$1</li>")),r="<"+t+">"+m+"</"+t+">"):e[8]?r='<img src="'+u(e[8])+'" alt="'+u(e[7])+'">':e[10]?(s=s.replace("<a>",'<a href="'+u(e[11]||d[p.toLowerCase()])+'">'),r=x()+"</a>"):e[9]?r="<a>":e[12]||e[14]?r="<"+(t="h"+(e[14]?e[14].length:e[13]>"="?1:2))+">"+g(e[12]||e[15],d)+"</"+t+">":e[16]?r="<code>"+u(e[16])+"</code>":(e[17]||e[1])&&(r=$(e[17]||"--"))),s+=p,s+=r;return(s+n.substring(h)+x()).replace(/^\n+|\n+$/g,"")}var l=document.querySelector.bind(document);l("#in").name="empty";l("#js-text").name="text";function b(){let n=g(l("#in").value);l("#out").innerHTML=n,l("#js-text").value=n}l("#in").oninput=b;b();})();
//# sourceMappingURL=thread.js.map
